@model Hallo_Doc.Entity.ViewModel.CountStatusWiseRequest;
@{
    ViewData["Title"] = "Admin Dasboard";
    
}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="css\bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://kit.fontawesome.com/a07e852713.js" crossorigin="anonymous"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    
    <link href="~/css/admin_dashboard.css" rel="stylesheet">
    <title>Admin Dashboard</title>

</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-toggler shadow pb-3 mb-2 bg-body">

        <div class="container-fluid flex-column">

            <ul class="navbar-nav w-100 flex-row justify-content-between">

                <button class="navbar-toggler navbar-light nav-tog-btn px-0 mb-2" type="button"
                        data-bs-toggle="offcanvas" data-bs-target="#navbarSupportedContent">
                    <i class="fa-solid fa-bars"></i>
                </button>


                <li class="nav-item">
                    <img class="img-fluid m-2" src="./../images/logo.png" alt="" width="150" height="70">
                </li>

                <li class="nav-item navbar-right d-flex flex-row ml-auto mt-5 h-25">

                    <span class="dblock mt-2">Welcome <span class="fw-bold">Admin admin2</span></span>

                    <a href="index.html" type="button" class="btn btn-outline-info mx-2 h-25 dblock">Logout</a>

                    <a href="index.html" type="button" class="btn btn-outline-info mx-2 dnone">
                        <i class="fa fa-right-from-bracket"></i>
                    </a>

                    <button type="button" class="btn btn-outline-info moon-img" onclick="myFunctions()">
                        <i class="fa fa-moon"></i>
                    </button>

                </li>
            </ul>

            <hr class="border border-dark border-1 w-100 m-0">

            <div class="w-50 dash-nav offcanvas offcanvas-start" id="navbarSupportedContent">
                <ul class="navbar-nav nav-underline offcanvas-body">
                    
                    <li class="nav-item mx-2 d-flex justify-content-between">
                        <a href="ad-dash-new.html" class="nav-link text-info active">Dashboard</a>
                    </li>
                    <li class="nav-item mx-2">
                        <a href="provider-location.html" class="nav-link">Provider Location</a>
                    </li>
                    <li class="nav-item mx-2">
                        <a href="my-profile.html" class="nav-link">My Profile</a>
                    </li>
                    <li class="nav-item dropdown mx-2">

                        <button type="button" class="nav-link dropdown-toggle" id="dropdownMenuButton"
                                data-bs-toggle="dropdown" aria-expanded="false">
                            Providers
                        </button>
                        <div class="dropdown-menu drp-nav  fs-6 fw-bold" aria-labelledby="dropdownMenuButton">
                            <a class="dropdown-item" href="provider-menu.html">• Provider</a>
                            <a class="dropdown-item" href="#">• Schedulling</a>
                            <a class="dropdown-item" href="#">• Invoicing</a>

                        </div>

                    </li>
                    <li class="nav-item mx-2">
                        <a href="profession-menu-vendors.html" class="nav-link">Partners</a>
                    </li>
                    <li class="nav-item mx-2">
                        <a href="account-access.html" class="nav-link">Access</a>
                    </li>
                    <li class="nav-item mx-2">
                        <a href="patient-history.html" class="nav-link">Records</a>
                    </li>
                </ul>
            </div>


        </div>

    </nav>
    <div>
        @Html.Partial("_CancelCase")
        @Html.Partial("_AssignCase")
        @Html.Partial("_BlockCase")
    </div>
    <div class="container-fluid mt-3" style="width: 100%;">
       
            <div class="row">

            <button class="col-lg col-3 btn btn-p m-2 py-3 rounded text-start" data-btn="New" data-id="1" style="background-color:#dae9ff; border-color:#0d6efd; color:#0d6efd;">
                <i class="fa fa-plus-circle me-2" aria-hidden="true"></i><b>New</b>
                <p class="h4">@Model.NewRequest</p>
            </button>
            <button class="col-lg col-3 btn m-2 py-3 rounded text-start" data-btn="Pending" data-id="2" style="background-color:#ddfaff; border-color:#0dcaf0; color:#0dcaf0;">
                <i class="fa fa-user me-2" aria-hidden="true"></i><b>Pending</b>
                <p class="h4">@Model.PendingRequest</p>
            </button>
            <button class="col-lg col-3 btn m-2 py-3 rounded text-start" data-btn="Active" data-id="3" style="background-color:#ccf7d6; border-color:#28a745; color:#28a745">
                <i class="fa fa-check-square-o me-2" aria-hidden="true"></i><b>Active</b>
                <p class="h4">@Model.ActiveRequest</p>
            </button>
            <button class="col-lg col-3 btn m-2 py-3 rounded text-start" data-btn="Conclude" data-id="4" style="background-color:rgb(245, 210, 248); border-color:rgb(201, 56, 214); color:rgb(201, 56, 214);">
                <i class="fa fa-clock-o me-2" aria-hidden="true"></i><b>Conclude</b>
                <p class="h4">@Model.ConcludeRequest</p>
            </button>
            <button class="col-lg col-3 btn m-2 py-3 rounded text-start" data-btn="ToClose" data-id="5" style="background-color:rgb(229, 229, 252); border-color:rgba(14, 14, 252, 0.822); color:rgba(14, 14, 252, 0.822);">
                <i class="fa fa-user-times me-2" aria-hidden="true"></i><b>ToClose</b>
                <p class="h4">@Model.ToCloseRequest</p>
            </button>
            <button class="col-lg col-3 btn m-2 py-3 rounded text-start" data-btn="Unpaid" data-id="6" style="background-color:rgba(242, 219, 255, 0.822); border-color:rgba(139, 5, 216, 0.822); color:rgba(139, 5, 216, 0.822);">
                <i class="fa fa-money me-2" aria-hidden="true"></i><b>Unpaid</b>
                <p class="h4">@Model.UnpaidRequest</p>
            </button>
            </div>
            <div class="flex-row d-flex mt-5 mb-3 justify-content-between">
                <h3>Patients<span style="font-size:medium; color: navy;"> (New)</span></h3>
                <ul>
                    <li class="d-inline">
                        <a class="btn btn-info text-white">
                            <i class="fa fa-paper-plane" aria-hidden="true"></i> Send Link
                        </a>
                    </li>
                    <li class="d-inline">
                        <a class="btn btn-info text-white">
                            <i class="fa fa-edit" aria-hidden="true"></i> Create Requests
                        </a>
                    </li>
                    <li class="d-inline">
                        <a class="btn btn-info text-white">
                            <i class="fa fa-mail-forward" aria-hidden="true"></i> Export
                        </a>
                    </li>
                    <li class="d-inline">
                        <a class="btn btn-info text-white">
                            <i class="fa fa-share-square-o" aria-hidden="true"></i> Export All
                        </a>
                    </li>
                    <li class="d-inline">
                        <a class="btn btn-info text-white">
                            <i class="fa fa-heartbeat" aria-hidden="true"></i> Request DIY Support
                        </a>
                    </li>
                </ul>
            </div>
       </div>

    <div id="btnContent">  </div>

    <script>
        $(document).ready(function () {
            console.log("Document ready");

            $.ajax({
                url: '/Admin/GetPartialView',
                method: 'GET',
                data: { btnName: 'New', statusId: 1 },
                success: function (data) {
                 
                    $("#btnContent").html(data);
                },
                error: function () {
                    console.error('Error fetching default partial view.');
                }
            });
                    
                    $(document).on("click", ".btn", function () {
                        var btnName = $(this).data("btn");
                        console.log("Button clicked: " + btnName);

                        var statusid = $(this).data("id");
                        
                        $.ajax({
                            url: '@Url.Action("GetPartialView", "Admin")',
                            
                            method: 'GET',
                            data: { btnName: btnName, statusid: statusid },
                            success: function (data) {
                                console.log("AJAX success");
                                
                                $("#btnContent").html(data);
                                console.log("data added");
                            },
                            error: function () {
                                console.error('Error fetching partial view.');
                            }
                        });
                    });
            });
       
    </script>

</body>
</html>